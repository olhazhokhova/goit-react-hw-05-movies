"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[935],{645:function(e,n,t){t.d(n,{Z:function(){return a}});var c=t(373),o="Loader_loader__+lRPl",r=t(184),a=function(){return(0,r.jsx)("div",{className:o,children:(0,r.jsx)(c.g4,{heigth:"80",width:"80",color:"#3f51b5",secondaryColor:"lightGrey"})})}},935:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var c=t(885),o=t(791),r=t(501),a=t(871),u="MoviesPage_form__Hzb4A",i="MoviesPage_input__h5lTQ",s="MoviesPage_button__HN2QC",f="MoviesPage_unstyled__iyR+l",l="MoviesPage_link__Kqtq6",h="MoviesPage_notFound__LX41k",_=t(390),d=t(645),g=t(184),v=function(){var e=(0,o.useState)([]),n=(0,c.Z)(e,2),t=n[0],v=n[1],m=(0,o.useState)(!1),y=(0,c.Z)(m,2),j=y[0],k=y[1],p=(0,o.useState)(!1),x=(0,c.Z)(p,2),S=x[0],b=x[1],q=(0,r.lr)(),M=(0,c.Z)(q,2),N=M[0],w=M[1],P=(0,o.useState)(""),Z=(0,c.Z)(P,2),C=Z[0],U=Z[1],H=(0,a.TH)(),L=N.get("query");(0,o.useEffect)((function(){b(!1),L&&L.length>0&&(0,_.LI)(L).then((function(e){v(e.results),0===e.total_results&&b(!0)})).finally((function(){k(!1)}))}),[L]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("form",{className:u,onSubmit:function(e){e.preventDefault(),k(!0),w({query:e.currentTarget.elements.query.value}),U("")},children:[(0,g.jsx)("input",{type:"text",className:i,name:"query",value:C,onChange:function(e){U(e.currentTarget.value)}}),(0,g.jsx)("button",{className:s,disabled:0===C.length,children:"Search"})]}),j&&(0,g.jsx)(d.Z,{}),!j&&t.length>0&&(0,g.jsx)("ul",{className:f,children:t.map((function(e){var n=e.id,t=e.title,c=e.original_name;return(0,g.jsx)("li",{children:(0,g.jsx)(r.rU,{to:"/movies/".concat(n),state:{from:H},className:l,children:t||c})},n)}))}),!j&&S&&(0,g.jsxs)("div",{className:h,children:["Movies with query ",N.get("query")," not found"]})]})}},390:function(e,n,t){t.d(n,{KS:function(){return r},Mc:function(){return a},LI:function(){return u},uV:function(){return i},Hx:function(){return s}});var c="https://api.themoviedb.org/3/",o="adf034e2dfe8e0fada717e58b9449dc8";function r(){return fetch("".concat(c,"trending/all/day?api_key=").concat(o)).then((function(e){if(e.ok)return e.json()}))}function a(e){return fetch("".concat(c,"movie/").concat(e,"?api_key=").concat(o,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))}function u(e){return fetch("".concat(c,"search/movie/?api_key=").concat(o,"&query=").concat(e,"&language=en-US&page=1")).then((function(e){if(e.ok)return e.json()}))}function i(e){return fetch("".concat(c,"movie/").concat(e,"/credits?api_key=").concat(o,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))}function s(e){return fetch("".concat(c,"movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))}}}]);
//# sourceMappingURL=935.b956d18e.chunk.js.map